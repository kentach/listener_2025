<div id="<%= dom_id(audio, :favorite_button) %>">
  <% if current_user.favorited?(audio) %>
    <%= button_to textbook_chapter_audio_favorite_path(audio.chapter.textbook, audio.chapter, audio, tab: 'お気に入り'),
                  method: :delete,
                  class: "btn p-0",
                  form: { data: { turbo: true } } do %>
      <!-- 塗りつぶし：黄色の旗 -->
      <svg width="18" height="22" viewBox="0 0 24 30">
        <polygon points="0,0 24,0 24,30 12,24 0,30"
                 fill="#f7d21e"
                 stroke="#f7d21e"
                 stroke-width="1"/>
      </svg>
    <% end %>
  <% else %>
    <%= button_to textbook_chapter_audio_favorite_path(audio.chapter.textbook, audio.chapter, audio, tab: 'お気に入り'),
                  method: :post,
                  class: "btn p-0",
                  form: { data: { turbo: true } } do %>
      <!-- 枠線：白の旗（線は黄色） -->
      <svg width="18" height="22" viewBox="0 0 24 30">
        <polygon points="0,0 24,0 24,30 12,24 0,30"
                 fill="white"
                 stroke="#f7d21e"
                 stroke-width="2"/>
      </svg>
    <% end %>
  <% end %>
</div>
