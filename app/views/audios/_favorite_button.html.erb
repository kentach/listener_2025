<div id="<%= dom_id(audio, :favorite_button) %>">
  <% if current_user.favorited?(audio) %>
    <%= button_to textbook_chapter_audio_favorite_path(audio.chapter.textbook, audio.chapter, audio, tab: 'お気に入り'),
                  method: :delete,
                  class: "btn p-0",
                  form: { data: { turbo: true } } do %>
      <!-- 塗りつぶしあり旗＋★（黒白、小さめ） -->
      <svg width="30" height="40" viewBox="0 0 24 30">
        <polygon points="0,0 24,0 24,30 12,24 0,30" fill="black" stroke="black" stroke-width="1"/>
        <text x="12" y="18" font-size="10" text-anchor="middle" fill="white">★</text>
      </svg>
    <% end %>
  <% else %>
    <%= button_to textbook_chapter_audio_favorite_path(audio.chapter.textbook, audio.chapter, audio, tab: 'お気に入り'),
                  method: :post,
                  class: "btn p-0",
                  form: { data: { turbo: true } } do %>
      <!-- 枠線のみの旗＋☆（黒白、小さめ） -->
      <svg width="30" height="40" viewBox="0 0 24 30">
        <polygon points="0,0 24,0 24,30 12,24 0,30" fill="none" stroke="black" stroke-width="2"/>
        <text x="12" y="18" font-size="10" text-anchor="middle" fill="black">☆</text>
      </svg>
    <% end %>
  <% end %>
</div>
