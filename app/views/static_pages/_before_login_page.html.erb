<!-- ================= LIBRARIES ================= -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

<!-- ================= HERO ================= -->
<section class="feature-title-section hero-section">
  <div class="section-inner">
    <h2 class="hero-heading fade-up">
      英語学習を<br>もっと身近に
    </h2>
    <p class="hero-tagline fade-up delay-1">リスニング強化アプリ</p>
    <h1 class="hero-title fade-up delay-2">LISTENER</h1>

    <p class="feature-subtitle fade-up delay-3">
      「音読」×「シャドーイング」で<br>
      「聴く」と「読む」を同時に鍛える<br>
      新しい英語トレーニングアプリ
    </p>

    <div class="cta-buttons fade-up delay-4">
      <%= link_to "今すぐ始める", new_user_registration_path,
        class: "btn btn-primary btn-lg rounded-pill fw-bold px-5 py-3 shadow" %>

      <%= link_to "ログインする", new_user_session_path,
        class: "btn btn-outline-primary btn-lg rounded-pill fw-bold px-5 py-3" %>
    </div>

  </div>
</section>


<!-- ================= FEATURE 01 ================= -->
<section class="feature-title-section">
  <div class="section-inner">
    <p class="feature-number fade-up">FEATURE <span>01</span></p>
    <h2 class="feature-title fade-up delay-1">全てのテキストに対応</h2>
    <h2 class="feature-title fade-up delay-2">英検対策にバッチリ</h2>

    <p class="feature-subtitle fade-up delay-3">
      自宅学習はこれ一つ。<br>
      授業の復習や英検対策にも最適
    </p>
  </div>

  <div class="swiper card-swiper fade-up delay-4">
    <div class="swiper-wrapper">
      <% [
        "ontre_01.png","ontre_02.png","ontre_03.png","ontre_04.png","ontre_05.png","ontre_06.png",
        "rhythm_01.png","rhythm_02.png","rhythm_03.png","rhythm_04.png","rhythm_05.png","rhythm_06.png"
      ].each do |img| %>
        <div class="swiper-slide card-item">
          <%= image_tag img, class: "card-img", alt: img %>
        </div>
      <% end %>
    </div>
  </div>
</section>

<!-- ================= FEATURE 02 ================= -->
<section class="feature-title-section">
  <div class="section-inner">
    <p class="feature-number fade-up">FEATURE <span>02</span></p>
    <h2 class="feature-title fade-up delay-1">英語学習に必要な機能</h2>
    <p class="feature-subtitle fade-up delay-3">
      リスニング教材に欠かせない便利な機能が満載<br>
      自分の好みにカスタマイズして学習可能
    </p>

    <div class="icon-area">
      <div class="icon-wrapper fade-up delay-2">
        <div class="icon-circle"><i class="bi bi-arrow-repeat"></i></div>
        <p class="icon-label">リピート再生</p>
      </div>

      <div class="icon-wrapper fade-up delay-3">
        <div class="icon-circle"><i class="bi bi-speedometer2"></i></div>
        <p class="icon-label">速度調整</p>
      </div>

      <div class="icon-wrapper fade-up delay-4">
        <div class="icon-circle"><i class="bi bi-skip-forward-fill"></i></div>
        <p class="icon-label">5秒スキップ</p>
      </div>

    </div>
  </div>
</section>

<!-- ================= CTA ================= -->
<section class="feature-title-section">
  <div class="section-inner">
    <h2 class="feature-title fade-up">さあ、今すぐ始めよう</h2>

    <div class="cta-buttons fade-up delay-1">
      <%= link_to "今すぐ始める", new_user_registration_path,
        class: "btn btn-primary btn-lg rounded-pill fw-bold px-5 py-3 shadow" %>

      <%= link_to "ログインする", new_user_session_path,
        class: "btn btn-outline-primary btn-lg rounded-pill fw-bold px-5 py-3" %>
    </div>
  </div>
</section>

<%= render "shared/footer" %>

<!-- ================= JS ================= -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
document.addEventListener("turbo:load", () => {
  new Swiper(".card-swiper", {
    slidesPerView: "auto",
    spaceBetween: 20,
    loop: true,
    allowTouchMove: false,
    speed: 4000,
    autoplay: { delay: 0 }
  });

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add("is-visible");
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.15 });

  document.querySelectorAll(".fade-up").forEach(el => observer.observe(el));
});
</script>
