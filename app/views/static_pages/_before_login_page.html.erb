<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<section class="feature-title-section text-center py-5">
  <p class="feature-number">リスニング強化アプリ</p>
  <h2 class="feature-title">LISTENER</h2>

  <p class="feature-subtitle">
    「音読」×「シャドーイング」で<br>
    「聴く」と「読む」を同時に鍛える<br>
      新しい英語トレーニングアプリ。
  </p>

  <div class="cta-buttons d-flex flex-column flex-md-row justify-content-center gap-3 mb-4">
    <%= link_to "今すぐ始める", new_user_registration_path,
        class: "btn btn-primary btn-lg rounded-pill fw-bold px-5 py-3 shadow-sm",
        aria: { label: "新規登録" } %>

    <%= link_to "ログイン", new_user_session_path,
        class: "btn btn-outline-primary btn-lg rounded-pill fw-bold px-5 py-3",
        aria: { label: "ログイン" } %>
  </div>

  <p class="hero-note text-muted small mb-5">
    すべての機能が使い放題・追加費用ゼロ
  </p>
</section>

<section class="feature-title-section text-center py-5">
  <p class="feature-number">特徴 <span>01</span></p>
  <h2 class="feature-title">全てのテキストに対応</h2>
  <h2 class="feature-title">英検対策にバッチリ！</h2>

  <p class="feature-subtitle">
    授業で扱うテキストで自宅学習が可能に。<br>
    豊富なテーマとレベル別テキストで英検対策も万全。
  </p>

  <div class="swiper card-swiper mt-4">
    <div class="swiper-wrapper">
      <% [
        "ontre_01.png","ontre_02.png","ontre_03.png","ontre_04.png","ontre_05.png","ontre_06.png",
        "rhythm_01.png","rhythm_02.png","rhythm_03.png","rhythm_04.png","rhythm_05.png","rhythm_06.png"
      ].each do |img| %>
        <div class="swiper-slide card-item">
          <%= image_tag img, class: "card-img", alt: img %>
        </div>
      <% end %>
    </div>

    <div class="swiper-scrollbar"></div>
  </div>
</section>

<section class="feature-title-section bg-gray-section text-center py-5">
  <p class="feature-number">特徴 <span>02</span></p>
  <h2 class="feature-title">座る時間＝勉強じゃない</h2>
  <h2 class="feature-title">これ一つで英語学習をどこでも</h2>

  <p class="feature-subtitle">
    スマホ一つでリスニングの練習が<br>
  いつでもどこでも可能に。
  </p>

  <div class="container d-flex justify-content-center mt-5">
  <div class="smartphone">
    <div class="content">
      <%= image_tag "Screenshot 2025-12-07 at 22.40.39.png", class: "screen-image", alt: "スマホ画面" %>
    </div>
  </div>
</div>

<style>
.smartphone {
  width: 260px;                /* ← 横幅を少し小さめに */
  height: 520px;               /* ← 縦長比率 2 : 1 のスマホ感 */
  border: 14px solid #333;
  border-radius: 32px;
  padding: 0;
  position: relative;
  box-shadow: 0 0 20px rgba(0,0,0,0.3);
  background: #000;
  overflow: hidden;            /* ← 内部のはみ出しを隠す */
}

/* ノッチ */
.smartphone::before {
  content: "";
  width: 90px;
  height: 16px;
  background: #000;
  border-radius: 8px;
  position: absolute;
  top: -5px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
}

/* 内部画面 */
.smartphone .content {
  width: 100%;
  height: 100%;
  background: #000;
  overflow: hidden;
}

/* 画像をスマホ内に収める */
.screen-image {
  width: 100%;
  height: 100%;
  object-fit: cover;   /* ← 画面いっぱいに広がる */
  display: block;
}

</style>
</section>

<section class="feature-title-section text-center py-5">
  <p class="feature-number">特徴 <span>03</span></p>
  <h2 class="feature-title">英語学習に欠かせない機能搭載</h2>
  <h2 class="feature-title">痒いところにも手が届く</h2>

  <p class="feature-subtitle">
    英語学習に欠かせない便利な機能を多数搭載。
  </p>

  <div class="d-flex justify-content-center gap-5 mt-4 icon-area">

    <!-- リピート -->
    <div class="icon-wrapper text-center">
      <div class="icon-circle">
        <i class="bi bi-arrow-repeat"></i>
      </div>
      <p class="icon-label">リピート機能搭載</p>
    </div>

    <!-- 5秒巻き戻し -->
    <div class="icon-wrapper text-center">
      <div class="icon-circle position-relative">
        <i class="bi bi-arrow-counterclockwise"></i>
        <span class="icon-text">5s</span>
      </div>
      <p class="icon-label">5秒戻し</p>
    </div>

    <!-- 再生速度 -->
    <div class="icon-wrapper text-center">
      <div class="icon-circle position-relative">
        <i class="bi bi-speedometer2"></i>
        <span class="icon-text">1.0x</span>
      </div>
      <p class="icon-label">音声再生速度<br>調整機能</p>
    </div>

    <!-- スキップ -->
    <div class="icon-wrapper text-center">
      <div class="icon-circle position-relative">
        <i class="bi bi-skip-forward-fill"></i>
        <span class="icon-text">10s</span>
      </div>
      <p class="icon-label">10秒スキップ</p>
    </div>

  </div>
</section>

<section class="feature-title-section text-center py-5">
  <p class="feature-number">特徴 <span>04</span></p>
  <h2 class="feature-title">英語の発音もすぐわかる</h2>
  <h2 class="feature-title">基本英単語も収録</h2>

  <p class="feature-subtitle">
    英検５級〜３級の合格に必要な英単語も収録。<br>
    正しい発音で学習が可能。
  </p>
</section>


<section class="text-center py-5">
  <div class="cta-buttons d-flex flex-column flex-md-row justify-content-center gap-3 mb-4">
    <%= link_to "さあ今すぐ始めよう", new_user_registration_path,
        class: "btn btn-primary btn-lg rounded-pill fw-bold px-5 py-3 shadow-sm",
        aria: { label: "新規登録" } %>

    <%= link_to "アカウントをお持ちの方", new_user_session_path,
        class: "btn btn-outline-primary btn-lg rounded-pill fw-bold px-5 py-3",
        aria: { label: "ログイン" } %>
  </div>
</section>

<%= render "shared/footer" %>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
function initSwiper() {
  const el = document.querySelector('.card-swiper');
  if (!el) return;

  // すでに初期化済みなら再初期化を防ぐ
  if (el.swiper) return;

  new Swiper('.card-swiper', {
    slidesPerView: 'auto',
    spaceBetween: 16,
    loop: true,
    allowTouchMove: false,
    speed: 3000,
    autoplay: {
      delay: 0,
      disableOnInteraction: false,
    },
    scrollbar: {
      el: '.swiper-scrollbar',
      draggable: true,
    }
  });
}

// Turbo遷移用
document.addEventListener("turbo:load", initSwiper);

// 通常読み込み用（ログアウト時はこちらが発火する）
document.addEventListener("DOMContentLoaded", initSwiper);
</script>


